<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gold Grocery | Calibrated Tilt</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes gold-spin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        body { 
            overflow: hidden; 
            touch-action: none;
            background: #f8fafc;
            margin: 0;
        }

        #product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            padding: 200px;
            transition: transform 0.15s ease-out;
            will-change: transform;
        }

        .product-card {
            perspective: 1500px;
            width: 250px; /* Increased size */
            height: 350px; /* Increased size */
        }

        .product-inner {
            transform-style: preserve-3d;
            animation: gold-spin 5s linear infinite;
            background: white;
            border-radius: 30px;
            border: 2px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .zoom-focus {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) scale(1.8) !important;
            z-index: 100;
            animation: none !important;
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
    </style>
</head>
<body>

    <div id="gate" class="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-white text-center p-6">
        <div class="text-6xl mb-4">üèÜ</div>
        <h1 class="text-3xl font-black text-slate-800 mb-2">GOLD GROCERY</h1>
        <p class="text-slate-500 mb-8">Hold your phone naturally and tap start.<br>The app will calibrate to your hand.</p>
        <button onclick="startApp()" class="bg-yellow-500 text-white px-12 py-4 rounded-full font-bold shadow-2xl active:scale-95 transition-transform">
            START & CALIBRATE
        </button>
    </div>

    <header class="fixed top-0 w-full z-50 glass-nav p-5 flex justify-between items-center">
        <span class="text-2xl font-black text-yellow-600 tracking-tighter">GOLD MARKET</span>
        <div id="status" class="text-[10px] font-bold text-slate-400">WAITING...</div>
    </header>

    <main class="h-screen w-screen overflow-hidden">
        <div id="product-grid">
            </div>
    </main>

    <footer class="fixed bottom-0 w-full glass-nav p-3 text-center text-[10px] font-bold text-slate-400 uppercase tracking-widest">
        Designed by <span class="text-yellow-600">Your Name</span>
    </footer>

    <script>
        const items = [
            "üçé", "üçå", "üçØ", "ü•õ", "üçû", "ü•ö", "üçá", "üíß", 
            "üßÄ", "üßÇ", "üçê", "üç±", "üçì", "ü•ë", "üçç", "ü••"
        ];
        
        const grid = document.getElementById('product-grid');
        let baseAlpha = 0, baseBeta = 0, baseGamma = 0;
        let isCalibrated = false;
        let curX = 0, curY = 0;

        // Build Large Cards
        items.forEach((icon, i) => {
            const card = document.createElement('div');
            card.className = "product-card";
            card.onclick = function() { this.classList.toggle('zoom-focus'); };
            card.innerHTML = `
                <div class="product-inner">
                    <div class="text-8xl mb-6">${icon}</div>
                    <div class="text-xl font-black text-slate-800 uppercase">Premium Item</div>
                    <div class="text-yellow-600 font-mono text-2xl font-bold mt-2">$${(10 + i).toFixed(2)}</div>
                </div>`;
            grid.appendChild(card);
        });

        async function startApp() {
            if (typeof DeviceOrientationEvent.requestPermission === 'function') {
                const res = await DeviceOrientationEvent.requestPermission();
                if (res === 'granted') run();
            } else {
                run();
            }
        }

        function run() {
            document.getElementById('gate').style.display = 'none';
            document.getElementById('status').innerText = "CALIBRATED";
            
            window.addEventListener('deviceorientation', (e) => {
                // The first event sets the "Zero Point"
                if (!isCalibrated) {
                    baseBeta = e.beta;
                    baseGamma = e.gamma;
                    isCalibrated = true;
                    return;
                }

                // Calculate difference from how you were holding it at start
                let diffX = e.gamma - baseGamma;
                let diffY = e.beta - baseBeta;

                // Deadzone to prevent vibrating
                if (Math.abs(diffX) < 3) diffX = 0;
                if (Math.abs(diffY) < 3) diffY = 0;

                // Move the grid
                curX -= diffX * 2;
                curY -= diffY * 2;

                // Boundaries
                curX = Math.max(-1200, Math.min(1200, curX));
                curY = Math.max(-1200, Math.min(1200, curY));

                grid.style.transform = `translate3d(${curX}px, ${curY}px, 0)`;
            });
        }
    </script>
</body>
</html>